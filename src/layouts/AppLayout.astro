---
import { Button } from "@/components/ui/button";

interface Props {
  title?: string;
}

const { title = "Fiska" } = Astro.props;
const { user } = Astro.locals;
---

<main class="min-h-screen flex flex-col">
  <header class="border-b">
    <div class="container mx-auto py-4 flex justify-between items-center">
      <h1 class="text-xl font-bold">{title}</h1>

      {
        user && (
          <div class="flex items-center gap-4">
            <span class="text-sm text-muted-foreground">{user.email}</span>
            <form method="POST" action="/api/auth/logout">
              <Button type="submit" variant="outline" size="sm">
                Wyloguj
              </Button>
            </form>
          </div>
        )
      }
    </div>
  </header>

  <div class="container mx-auto px-4 flex-grow py-6">
    <slot />
  </div>
</main>
